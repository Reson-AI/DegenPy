2025-03-10 16:14:05,662 - run - INFO - 由server/api服务管理agent启动...
2025-03-10 16:14:05,662 - run - INFO - 启动 warehouse_api...
2025-03-10 16:14:05,664 - run - INFO - 启动 server_api...
2025-03-10 16:14:05,664 - run - INFO - 所有服务启动完成。按 Ctrl+C 停止。
2025-03-10 16:14:06,020 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:14:07,414 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:14:07,414 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:14:07,434 - message_broker - INFO - Connected to Redis server
2025-03-10 16:14:07,496 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:14:08,239 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:14:08,239 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
INFO:     Started server process [15344]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ERROR:    [Errno 48] error while attempting to bind on address ('0.0.0.0', 8000): address already in use
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
2025-03-10 16:14:08,874 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:14:08,874 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:14:09,677 - run - WARNING - warehouse_api 意外退出，尝试重新启动...
2025-03-10 16:14:09,677 - run - INFO - 启动 warehouse_api...
2025-03-10 16:14:09,975 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:14:10,177 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:14:10,177 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
INFO:     Started server process [15345]
INFO:     Waiting for application startup.
2025-03-10 16:14:10,197 - api - INFO - 自动启动TikTok-agent...
2025-03-10 16:14:10,198 - agent_engine - INFO - 已加载Agent配置: tiktok-agent
2025-03-10 16:14:10,198 - agent_engine - INFO - 开始运行agent: tiktok-agent
2025-03-10 16:14:10,201 - special_attention_task - INFO - 特别关注任务 special_attention_task 使用组件: data_fetcher, fact_checker, content_processor, video_generator
2025-03-10 16:14:10,201 - special_attention_task - INFO - 启动特别关注任务: special_attention_task
2025-03-10 16:14:10,201 - special_attention_task - INFO - 启动实时监听: special_attention
2025-03-10 16:14:11,176 - agent_engine - INFO - 任务已启动: tiktok-agent:special_attention_task (原始ID: special_attention_task)
2025-03-10 16:14:11,179 - timeline_task - INFO - 时间线任务 timeline_task 使用组件: data_fetcher, content_processor, summary_generator, video_generator
2025-03-10 16:14:11,179 - timeline_task - INFO - 启动时间线任务: timeline_task
2025-03-10 16:14:11,179 - timeline_task - INFO - 启动定时执行: */30 * * * *
2025-03-10 16:14:11,179 - agent_engine - INFO - 任务已启动: tiktok-agent:timeline_task (原始ID: timeline_task)
2025-03-10 16:14:11,179 - api - INFO - TikTok-agent (tiktok-agent) 启动成功
INFO:     Application startup complete.
ERROR:    [Errno 48] error while attempting to bind on address ('0.0.0.0', 8001): address already in use
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
2025-03-10 16:14:11,686 - run - WARNING - server_api 意外退出，尝试重新启动...
2025-03-10 16:14:11,686 - run - INFO - 启动 server_api...
2025-03-10 16:14:11,993 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:14:11,993 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:14:13,290 - message_broker - INFO - Connected to Redis server
2025-03-10 16:14:13,323 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:14:13,341 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:14:13,341 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
INFO:     Started server process [15356]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ERROR:    [Errno 48] error while attempting to bind on address ('0.0.0.0', 8000): address already in use
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
2025-03-10 16:14:14,637 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:14:14,637 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:14:15,894 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:14:15,894 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
INFO:     Started server process [15358]
INFO:     Waiting for application startup.
2025-03-10 16:14:15,911 - api - INFO - 自动启动TikTok-agent...
2025-03-10 16:14:15,911 - agent_engine - INFO - 已加载Agent配置: tiktok-agent
2025-03-10 16:14:15,911 - agent_engine - INFO - 开始运行agent: tiktok-agent
2025-03-10 16:14:15,913 - special_attention_task - INFO - 特别关注任务 special_attention_task 使用组件: data_fetcher, fact_checker, content_processor, video_generator
2025-03-10 16:14:15,913 - special_attention_task - INFO - 启动特别关注任务: special_attention_task
2025-03-10 16:14:15,913 - special_attention_task - INFO - 启动实时监听: special_attention
2025-03-10 16:14:23,134 - agent_engine - INFO - 任务已启动: tiktok-agent:special_attention_task (原始ID: special_attention_task)
2025-03-10 16:14:23,138 - timeline_task - INFO - 时间线任务 timeline_task 使用组件: data_fetcher, content_processor, summary_generator, video_generator
2025-03-10 16:14:23,138 - timeline_task - INFO - 启动时间线任务: timeline_task
2025-03-10 16:14:23,139 - timeline_task - INFO - 启动定时执行: */30 * * * *
2025-03-10 16:14:23,139 - agent_engine - INFO - 任务已启动: tiktok-agent:timeline_task (原始ID: timeline_task)
2025-03-10 16:14:23,139 - api - INFO - TikTok-agent (tiktok-agent) 启动成功
INFO:     Application startup complete.
ERROR:    [Errno 48] error while attempting to bind on address ('0.0.0.0', 8001): address already in use
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
2025-03-10 16:15:21,414 - run - INFO - 接收到信号 15
2025-03-10 16:15:21,415 - run - INFO - 停止所有进程...
2025-03-10 16:15:22,419 - run - INFO - 停止所有进程...
2025-03-10 16:16:54,994 - run - INFO - 由server/api服务管理agent启动...
2025-03-10 16:16:54,994 - run - INFO - 启动 warehouse_api...
2025-03-10 16:16:54,996 - run - INFO - 启动 server_api...
2025-03-10 16:16:54,997 - run - INFO - 所有服务启动完成。按 Ctrl+C 停止。
2025-03-10 16:16:55,409 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:16:56,748 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:16:56,748 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:16:58,855 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:16:58,855 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
INFO:     Started server process [15504]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-03-10 16:17:00,449 - message_broker - INFO - Connected to Redis server
2025-03-10 16:17:00,510 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:17:06,393 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:17:06,393 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:17:07,788 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:17:07,788 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
INFO:     Started server process [15505]
INFO:     Waiting for application startup.
2025-03-10 16:17:07,828 - api - INFO - 自动启动TikTok-agent...
2025-03-10 16:17:07,828 - agent_engine - INFO - 已加载Agent配置: tiktok-agent
2025-03-10 16:17:07,828 - agent_engine - INFO - 开始运行agent: tiktok-agent
2025-03-10 16:17:07,832 - special_attention_task - INFO - 特别关注任务 special_attention_task 使用组件: data_fetcher, fact_checker, content_processor, video_generator
2025-03-10 16:17:07,832 - special_attention_task - INFO - 启动特别关注任务: special_attention_task
2025-03-10 16:17:07,832 - special_attention_task - INFO - 启动实时监听: special_attention
2025-03-10 16:17:09,073 - agent_engine - INFO - 任务已启动: tiktok-agent:special_attention_task (原始ID: special_attention_task)
2025-03-10 16:17:09,076 - timeline_task - INFO - 时间线任务 timeline_task 使用组件: data_fetcher, content_processor, summary_generator, video_generator
2025-03-10 16:17:09,076 - timeline_task - INFO - 启动时间线任务: timeline_task
2025-03-10 16:17:09,076 - timeline_task - INFO - 启动定时执行: */30 * * * *
2025-03-10 16:17:09,077 - agent_engine - INFO - 任务已启动: tiktok-agent:timeline_task (原始ID: timeline_task)
2025-03-10 16:17:09,077 - api - INFO - TikTok-agent (tiktok-agent) 启动成功
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
2025-03-10 16:17:59,736 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:18:18,593 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:18:18,593 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:18:42,513 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:18:42,515 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
2025-03-10 16:18:43,568 - mongodb_connector - ERROR - 存储数据时出错: db already exists with different case already have: [degenPy] trying to create [degenpy], full error: {'index': 0, 'code': 13297, 'errmsg': 'db already exists with different case already have: [degenPy] trying to create [degenpy]'}
INFO:     127.0.0.1:49793 - "POST /data HTTP/1.1" 200 OK
2025-03-10 16:19:49,326 - run - INFO - 接收到信号 15
2025-03-10 16:19:49,329 - run - INFO - 停止所有进程...
2025-03-10 16:19:49,329 - run - INFO - 终止 warehouse_api...
2025-03-10 16:19:49,329 - run - INFO - 终止 server_api...
INFO:     Shutting down
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Application shutdown complete.
INFO:     Finished server process [15505]
INFO:     Finished server process [15504]
2025-03-10 16:19:50,331 - run - INFO - 停止所有进程...
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/resource_tracker.py:224: UserWarning: resource_tracker: There appear to be 10 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
2025-03-10 16:20:20,379 - run - INFO - 由server/api服务管理agent启动...
2025-03-10 16:20:20,379 - run - INFO - 启动 warehouse_api...
2025-03-10 16:20:20,381 - run - INFO - 启动 server_api...
2025-03-10 16:20:20,382 - run - INFO - 所有服务启动完成。按 Ctrl+C 停止。
2025-03-10 16:20:20,753 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:20:21,905 - message_broker - INFO - Connected to Redis server
2025-03-10 16:20:21,946 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:20:22,056 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:20:22,056 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:20:23,381 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:20:23,381 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
INFO:     Started server process [15847]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-03-10 16:20:36,207 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:20:36,207 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:20:37,455 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:20:37,455 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
INFO:     Started server process [15848]
INFO:     Waiting for application startup.
2025-03-10 16:20:37,498 - api - INFO - 自动启动TikTok-agent...
2025-03-10 16:20:37,499 - agent_engine - INFO - 已加载Agent配置: tiktok-agent
2025-03-10 16:20:37,499 - agent_engine - INFO - 开始运行agent: tiktok-agent
2025-03-10 16:20:37,503 - special_attention_task - INFO - 特别关注任务 special_attention_task 使用组件: data_fetcher, fact_checker, content_processor, video_generator
2025-03-10 16:20:37,504 - special_attention_task - INFO - 启动特别关注任务: special_attention_task
2025-03-10 16:20:37,504 - special_attention_task - INFO - 启动实时监听: special_attention
2025-03-10 16:20:38,469 - agent_engine - INFO - 任务已启动: tiktok-agent:special_attention_task (原始ID: special_attention_task)
2025-03-10 16:20:38,472 - timeline_task - INFO - 时间线任务 timeline_task 使用组件: data_fetcher, content_processor, summary_generator, video_generator
2025-03-10 16:20:38,472 - timeline_task - INFO - 启动时间线任务: timeline_task
2025-03-10 16:20:38,472 - timeline_task - INFO - 启动定时执行: */30 * * * *
2025-03-10 16:20:38,472 - agent_engine - INFO - 任务已启动: tiktok-agent:timeline_task (原始ID: timeline_task)
2025-03-10 16:20:38,472 - api - INFO - TikTok-agent (tiktok-agent) 启动成功
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
2025-03-10 16:20:41,482 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:20:44,057 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:20:44,058 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:20:46,811 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:20:46,811 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
2025-03-10 16:20:48,000 - mongodb_connector - ERROR - 存储数据时出错: db already exists with different case already have: [degenPy] trying to create [degenpy], full error: {'index': 0, 'code': 13297, 'errmsg': 'db already exists with different case already have: [degenPy] trying to create [degenpy]'}
INFO:     127.0.0.1:50391 - "POST /data HTTP/1.1" 200 OK
2025-03-10 16:21:48,019 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:21:49,303 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:21:49,303 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:21:50,743 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:21:50,743 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
2025-03-10 16:21:51,763 - mongodb_connector - ERROR - 存储数据时出错: db already exists with different case already have: [degenPy] trying to create [degenpy], full error: {'index': 0, 'code': 13297, 'errmsg': 'db already exists with different case already have: [degenPy] trying to create [degenpy]'}
INFO:     127.0.0.1:50662 - "POST /data HTTP/1.1" 200 OK
2025-03-10 16:22:17,406 - run - INFO - 接收到信号 15
2025-03-10 16:22:17,408 - run - INFO - 停止所有进程...
2025-03-10 16:22:17,408 - run - INFO - 终止 warehouse_api...
2025-03-10 16:22:17,408 - run - INFO - 终止 server_api...
INFO:     Shutting down
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15848]
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15847]
2025-03-10 16:22:18,410 - run - INFO - 停止所有进程...
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/resource_tracker.py:224: UserWarning: resource_tracker: There appear to be 10 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
2025-03-10 16:39:59,789 - run - INFO - 由server/api服务管理agent启动...
2025-03-10 16:39:59,789 - run - INFO - 启动 warehouse_api...
2025-03-10 16:39:59,791 - run - INFO - 启动 server_api...
2025-03-10 16:39:59,793 - run - INFO - 所有服务启动完成。按 Ctrl+C 停止。
Process Process-1:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/yezi/DegenPy/run.py", line 74, in start_warehouse_api
    from warehouse.api import app
  File "/Users/yezi/DegenPy/warehouse/api.py", line 18, in <module>
    from warehouse.storage.mongodb.connector import MongoDBConnector
  File "/Users/yezi/DegenPy/warehouse/storage/mongodb/connector.py", line 252, in <module>
    mongodb_connector = MongoDBConnector()
                        ^^^^^^^^^^^^^^^^^^
  File "/Users/yezi/DegenPy/warehouse/storage/mongodb/connector.py", line 54, in __init__
    raise ValueError("环境变量MONGODB_DATABASE未设置，请在.env文件中配置")
ValueError: 环境变量MONGODB_DATABASE未设置，请在.env文件中配置
2025-03-10 16:40:01,804 - run - WARNING - warehouse_api 意外退出，尝试重新启动...
2025-03-10 16:40:01,804 - run - INFO - 启动 warehouse_api...
Process Process-3:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/yezi/DegenPy/run.py", line 74, in start_warehouse_api
    from warehouse.api import app
  File "/Users/yezi/DegenPy/warehouse/api.py", line 18, in <module>
    from warehouse.storage.mongodb.connector import MongoDBConnector
  File "/Users/yezi/DegenPy/warehouse/storage/mongodb/connector.py", line 252, in <module>
    mongodb_connector = MongoDBConnector()
                        ^^^^^^^^^^^^^^^^^^
  File "/Users/yezi/DegenPy/warehouse/storage/mongodb/connector.py", line 54, in __init__
    raise ValueError("环境变量MONGODB_DATABASE未设置，请在.env文件中配置")
ValueError: 环境变量MONGODB_DATABASE未设置，请在.env文件中配置
2025-03-10 16:40:02,378 - message_broker - INFO - Connected to Redis server
Process Process-2:
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/Users/yezi/DegenPy/run.py", line 66, in start_server_api
    from server.api import app
  File "/Users/yezi/DegenPy/server/api.py", line 22, in <module>
    from warehouse.api import app as warehouse_app
  File "/Users/yezi/DegenPy/warehouse/api.py", line 18, in <module>
    from warehouse.storage.mongodb.connector import MongoDBConnector
  File "/Users/yezi/DegenPy/warehouse/storage/mongodb/connector.py", line 252, in <module>
    mongodb_connector = MongoDBConnector()
                        ^^^^^^^^^^^^^^^^^^
  File "/Users/yezi/DegenPy/warehouse/storage/mongodb/connector.py", line 54, in __init__
    raise ValueError("环境变量MONGODB_DATABASE未设置，请在.env文件中配置")
ValueError: 环境变量MONGODB_DATABASE未设置，请在.env文件中配置
2025-03-10 16:40:03,813 - run - WARNING - server_api 意外退出，尝试重新启动...
2025-03-10 16:40:03,813 - run - INFO - 启动 server_api...
2025-03-10 16:40:11,579 - message_broker - INFO - Connected to Redis server
2025-03-10 16:40:11,608 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:40:14,928 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:40:14,929 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:40:16,303 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:40:16,303 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
INFO:     Started server process [17561]
INFO:     Waiting for application startup.
2025-03-10 16:40:16,344 - api - INFO - 自动启动TikTok-agent...
2025-03-10 16:40:16,344 - agent_engine - INFO - 已加载Agent配置: tiktok-agent
2025-03-10 16:40:16,344 - agent_engine - INFO - 开始运行agent: tiktok-agent
2025-03-10 16:40:16,347 - special_attention_task - INFO - 特别关注任务 special_attention_task 使用组件: data_fetcher, fact_checker, content_processor, video_generator
2025-03-10 16:40:16,347 - special_attention_task - INFO - 启动特别关注任务: special_attention_task
2025-03-10 16:40:16,347 - special_attention_task - INFO - 启动实时监听: special_attention
2025-03-10 16:40:25,263 - agent_engine - INFO - 任务已启动: tiktok-agent:special_attention_task (原始ID: special_attention_task)
2025-03-10 16:40:25,267 - timeline_task - INFO - 时间线任务 timeline_task 使用组件: data_fetcher, content_processor, summary_generator, video_generator
2025-03-10 16:40:25,268 - timeline_task - INFO - 启动时间线任务: timeline_task
2025-03-10 16:40:25,268 - timeline_task - INFO - 启动定时执行: */30 * * * *
2025-03-10 16:40:25,268 - agent_engine - INFO - 任务已启动: tiktok-agent:timeline_task (原始ID: timeline_task)
2025-03-10 16:40:25,268 - api - INFO - TikTok-agent (tiktok-agent) 启动成功
INFO:     Application startup complete.
ERROR:    [Errno 48] error while attempting to bind on address ('0.0.0.0', 8001): address already in use
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
2025-03-10 16:41:23,075 - run - INFO - 接收到信号 15
2025-03-10 16:41:23,077 - run - INFO - 停止所有进程...
2025-03-10 16:41:24,082 - run - INFO - 停止所有进程...
2025-03-10 16:41:44,915 - run - INFO - 由server/api服务管理agent启动...
2025-03-10 16:41:44,915 - run - INFO - 启动 warehouse_api...
2025-03-10 16:41:44,917 - run - INFO - 启动 server_api...
2025-03-10 16:41:44,918 - run - INFO - 所有服务启动完成。按 Ctrl+C 停止。
2025-03-10 16:41:45,321 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:41:46,651 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:41:46,651 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:41:46,655 - message_broker - INFO - Connected to Redis server
2025-03-10 16:41:46,688 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:41:48,062 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:41:48,062 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:41:48,082 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:41:48,082 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
INFO:     Started server process [17710]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-03-10 16:41:49,482 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:41:49,482 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
INFO:     Started server process [17711]
INFO:     Waiting for application startup.
2025-03-10 16:41:49,511 - api - INFO - 自动启动TikTok-agent...
2025-03-10 16:41:49,512 - agent_engine - INFO - 已加载Agent配置: tiktok-agent
2025-03-10 16:41:49,512 - agent_engine - INFO - 开始运行agent: tiktok-agent
2025-03-10 16:41:49,514 - special_attention_task - INFO - 特别关注任务 special_attention_task 使用组件: data_fetcher, fact_checker, content_processor, video_generator
2025-03-10 16:41:49,514 - special_attention_task - INFO - 启动特别关注任务: special_attention_task
2025-03-10 16:41:49,514 - special_attention_task - INFO - 启动实时监听: special_attention
2025-03-10 16:41:51,578 - agent_engine - INFO - 任务已启动: tiktok-agent:special_attention_task (原始ID: special_attention_task)
2025-03-10 16:41:51,581 - timeline_task - INFO - 时间线任务 timeline_task 使用组件: data_fetcher, content_processor, summary_generator, video_generator
2025-03-10 16:41:51,581 - timeline_task - INFO - 启动时间线任务: timeline_task
2025-03-10 16:41:51,581 - timeline_task - INFO - 启动定时执行: */30 * * * *
2025-03-10 16:41:51,581 - agent_engine - INFO - 任务已启动: tiktok-agent:timeline_task (原始ID: timeline_task)
2025-03-10 16:41:51,581 - api - INFO - TikTok-agent (tiktok-agent) 启动成功
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
2025-03-10 16:42:07,999 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:42:09,450 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:42:09,450 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:42:10,807 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:42:10,807 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
2025-03-10 16:42:11,962 - mongodb_connector - ERROR - 存储数据时出错: db already exists with different case already have: [degenPy] trying to create [degenpy], full error: {'index': 0, 'code': 13297, 'errmsg': 'db already exists with different case already have: [degenPy] trying to create [degenpy]'}
INFO:     127.0.0.1:54801 - "POST /data HTTP/1.1" 200 OK
2025-03-10 16:43:05,821 - run - INFO - 接收到信号 15
2025-03-10 16:43:05,823 - run - INFO - 停止所有进程...
2025-03-10 16:43:05,823 - run - INFO - 终止 warehouse_api...
2025-03-10 16:43:05,823 - run - INFO - 终止 server_api...
INFO:     Shutting down
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [17710]
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [17711]
2025-03-10 16:43:06,826 - run - INFO - 停止所有进程...
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/resource_tracker.py:224: UserWarning: resource_tracker: There appear to be 10 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
2025-03-10 16:47:25,400 - run - INFO - 由server/api服务管理agent启动...
2025-03-10 16:47:25,400 - run - INFO - 启动 warehouse_api...
2025-03-10 16:47:25,401 - run - INFO - 启动 server_api...
2025-03-10 16:47:25,402 - run - INFO - 所有服务启动完成。按 Ctrl+C 停止。
2025-03-10 16:47:25,779 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:47:29,181 - message_broker - INFO - Connected to Redis server
2025-03-10 16:47:29,232 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:47:30,121 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:47:30,121 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:47:31,885 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:47:31,885 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:47:32,288 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:47:32,289 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
INFO:     Started server process [18135]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-03-10 16:47:33,181 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:47:33,182 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
INFO:     Started server process [18136]
INFO:     Waiting for application startup.
2025-03-10 16:47:33,206 - api - INFO - 自动启动TikTok-agent...
2025-03-10 16:47:33,206 - agent_engine - INFO - 已加载Agent配置: tiktok-agent
2025-03-10 16:47:33,206 - agent_engine - INFO - 开始运行agent: tiktok-agent
2025-03-10 16:47:33,209 - special_attention_task - INFO - 特别关注任务 special_attention_task 使用组件: data_fetcher, fact_checker, content_processor, video_generator
2025-03-10 16:47:33,209 - special_attention_task - INFO - 启动特别关注任务: special_attention_task
2025-03-10 16:47:33,209 - special_attention_task - INFO - 启动实时监听: special_attention
2025-03-10 16:47:34,291 - agent_engine - INFO - 任务已启动: tiktok-agent:special_attention_task (原始ID: special_attention_task)
2025-03-10 16:47:34,296 - timeline_task - INFO - 时间线任务 timeline_task 使用组件: data_fetcher, content_processor, summary_generator, video_generator
2025-03-10 16:47:34,296 - timeline_task - INFO - 启动时间线任务: timeline_task
2025-03-10 16:47:34,296 - timeline_task - INFO - 启动定时执行: */30 * * * *
2025-03-10 16:47:34,297 - agent_engine - INFO - 任务已启动: tiktok-agent:timeline_task (原始ID: timeline_task)
2025-03-10 16:47:34,297 - api - INFO - TikTok-agent (tiktok-agent) 启动成功
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
2025-03-10 16:47:40,713 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:47:42,886 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:47:42,886 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:47:44,208 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:47:44,208 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
2025-03-10 16:47:45,792 - mongodb_connector - ERROR - 存储数据时出错: db already exists with different case already have: [degenPy] trying to create [degenpy], full error: {'index': 0, 'code': 13297, 'errmsg': 'db already exists with different case already have: [degenPy] trying to create [degenpy]'}
INFO:     127.0.0.1:55921 - "POST /data HTTP/1.1" 200 OK
2025-03-10 16:48:45,813 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:48:47,920 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:48:47,920 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:48:49,486 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:48:49,487 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
2025-03-10 16:48:50,226 - mongodb_connector - ERROR - 存储数据时出错: db already exists with different case already have: [degenPy] trying to create [degenpy], full error: {'index': 0, 'code': 13297, 'errmsg': 'db already exists with different case already have: [degenPy] trying to create [degenpy]'}
INFO:     127.0.0.1:56133 - "POST /data HTTP/1.1" 200 OK
2025-03-10 16:49:03,364 - run - INFO - 接收到信号 15
2025-03-10 16:49:03,366 - run - INFO - 停止所有进程...
2025-03-10 16:49:03,367 - run - INFO - 终止 warehouse_api...
2025-03-10 16:49:03,367 - run - INFO - 终止 server_api...
INFO:     Shutting down
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [18135]
INFO:     Application shutdown complete.
INFO:     Finished server process [18136]
2025-03-10 16:49:04,369 - run - INFO - 停止所有进程...
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/resource_tracker.py:224: UserWarning: resource_tracker: There appear to be 10 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
2025-03-10 16:51:03,381 - run - INFO - 由server/api服务管理agent启动...
2025-03-10 16:51:03,382 - run - INFO - 启动 warehouse_api...
2025-03-10 16:51:03,383 - run - INFO - 启动 server_api...
2025-03-10 16:51:03,384 - run - INFO - 所有服务启动完成。按 Ctrl+C 停止。
2025-03-10 16:51:03,735 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:51:04,921 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:51:04,922 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:51:06,416 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:51:06,416 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
INFO:     Started server process [18580]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-03-10 16:51:08,155 - message_broker - INFO - Connected to Redis server
2025-03-10 16:51:08,190 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:51:12,523 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:51:12,524 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:51:14,891 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:51:15,713 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:51:15,713 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
INFO:     Started server process [18581]
INFO:     Waiting for application startup.
2025-03-10 16:51:15,740 - api - INFO - 自动启动TikTok-agent...
2025-03-10 16:51:15,741 - agent_engine - INFO - 已加载Agent配置: tiktok-agent
2025-03-10 16:51:15,741 - agent_engine - INFO - 开始运行agent: tiktok-agent
2025-03-10 16:51:15,743 - special_attention_task - INFO - 特别关注任务 special_attention_task 使用组件: data_fetcher, fact_checker, content_processor, video_generator
2025-03-10 16:51:15,743 - special_attention_task - INFO - 启动特别关注任务: special_attention_task
2025-03-10 16:51:15,743 - special_attention_task - INFO - 启动实时监听: special_attention
2025-03-10 16:51:25,346 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:51:25,347 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:51:26,650 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:51:26,650 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
2025-03-10 16:51:27,712 - mongodb_connector - ERROR - 存储数据时出错: db already exists with different case already have: [degenPy] trying to create [degenpy], full error: {'index': 0, 'code': 13297, 'errmsg': 'db already exists with different case already have: [degenPy] trying to create [degenpy]'}
INFO:     127.0.0.1:56687 - "POST /data HTTP/1.1" 200 OK
2025-03-10 16:51:35,907 - agent_engine - INFO - 任务已启动: tiktok-agent:special_attention_task (原始ID: special_attention_task)
2025-03-10 16:51:35,911 - timeline_task - INFO - 时间线任务 timeline_task 使用组件: data_fetcher, content_processor, summary_generator, video_generator
2025-03-10 16:51:35,911 - timeline_task - INFO - 启动时间线任务: timeline_task
2025-03-10 16:51:35,911 - timeline_task - INFO - 启动定时执行: */30 * * * *
2025-03-10 16:51:35,911 - agent_engine - INFO - 任务已启动: tiktok-agent:timeline_task (原始ID: timeline_task)
2025-03-10 16:51:35,911 - api - INFO - TikTok-agent (tiktok-agent) 启动成功
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
2025-03-10 16:52:27,732 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:52:29,003 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:52:29,003 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:52:30,360 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:52:30,360 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
2025-03-10 16:52:32,920 - mongodb_connector - ERROR - 存储数据时出错: db already exists with different case already have: [degenPy] trying to create [degenpy], full error: {'index': 0, 'code': 13297, 'errmsg': 'db already exists with different case already have: [degenPy] trying to create [degenpy]'}
INFO:     127.0.0.1:56933 - "POST /data HTTP/1.1" 200 OK
2025-03-10 16:53:32,945 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:53:35,615 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 16:53:35,615 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:53:37,025 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:53:37,025 - mongodb_connector - INFO - MongoDB 连接器初始化: degenpy, Collection: content
2025-03-10 16:53:38,110 - mongodb_connector - ERROR - 存储数据时出错: db already exists with different case already have: [degenPy] trying to create [degenpy], full error: {'index': 0, 'code': 13297, 'errmsg': 'db already exists with different case already have: [degenPy] trying to create [degenpy]'}
INFO:     127.0.0.1:57210 - "POST /data HTTP/1.1" 200 OK
2025-03-10 16:54:45,682 - run - INFO - 接收到信号 15
2025-03-10 16:54:45,684 - run - INFO - 停止所有进程...
2025-03-10 16:54:45,684 - run - INFO - 终止 warehouse_api...
2025-03-10 16:54:45,684 - run - INFO - 终止 server_api...
INFO:     Shutting down
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [18581]
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [18580]
2025-03-10 16:54:46,687 - run - INFO - 停止所有进程...
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/resource_tracker.py:224: UserWarning: resource_tracker: There appear to be 10 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
2025-03-10 16:55:01,049 - run - INFO - 由server/api服务管理agent启动...
2025-03-10 16:55:01,049 - run - INFO - 启动 warehouse_api...
2025-03-10 16:55:01,052 - run - INFO - 启动 server_api...
2025-03-10 16:55:01,055 - run - INFO - 所有服务启动完成。按 Ctrl+C 停止。
2025-03-10 16:55:01,429 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:55:02,860 - message_queue - ERROR - 初始化消息队列时出错: name 'redis_prefix' is not defined
2025-03-10 16:55:02,860 - message_broker - INFO - Connected to Redis server
2025-03-10 16:55:02,861 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:55:02,914 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:55:04,344 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:55:04,345 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: content
INFO:     Started server process [19226]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-03-10 16:55:04,888 - message_queue - ERROR - 初始化消息队列时出错: name 'redis_prefix' is not defined
2025-03-10 16:55:04,889 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:55:07,788 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:55:07,788 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: content
INFO:     Started server process [19227]
INFO:     Waiting for application startup.
2025-03-10 16:55:07,825 - api - INFO - 自动启动TikTok-agent...
2025-03-10 16:55:07,826 - agent_engine - INFO - 已加载Agent配置: tiktok-agent
2025-03-10 16:55:07,826 - agent_engine - INFO - 开始运行agent: tiktok-agent
2025-03-10 16:55:07,830 - special_attention_task - INFO - 特别关注任务 special_attention_task 使用组件: data_fetcher, fact_checker, content_processor, video_generator
2025-03-10 16:55:07,831 - special_attention_task - INFO - 启动特别关注任务: special_attention_task
2025-03-10 16:55:07,831 - special_attention_task - INFO - 启动实时监听: special_attention
2025-03-10 16:55:08,978 - agent_engine - INFO - 任务已启动: tiktok-agent:special_attention_task (原始ID: special_attention_task)
2025-03-10 16:55:08,982 - timeline_task - INFO - 时间线任务 timeline_task 使用组件: data_fetcher, content_processor, summary_generator, video_generator
2025-03-10 16:55:08,982 - timeline_task - INFO - 启动时间线任务: timeline_task
2025-03-10 16:55:08,982 - timeline_task - INFO - 启动定时执行: */30 * * * *
2025-03-10 16:55:08,985 - agent_engine - INFO - 任务已启动: tiktok-agent:timeline_task (原始ID: timeline_task)
2025-03-10 16:55:08,985 - api - INFO - TikTok-agent (tiktok-agent) 启动成功
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
2025-03-10 16:55:11,762 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:55:14,465 - message_queue - ERROR - 初始化消息队列时出错: name 'redis_prefix' is not defined
2025-03-10 16:55:14,466 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:55:15,754 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:55:15,755 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: content
2025-03-10 16:55:16,992 - message_queue - WARNING - 消息队列未连接，无法发布消息
2025-03-10 16:55:16,992 - mongodb_connector - INFO - 将UUID 4e6ba885-04be-451d-ad1a-23178576c74a 发送到消息队列 special_attention
INFO:     127.0.0.1:57626 - "POST /data HTTP/1.1" 200 OK
2025-03-10 16:56:17,021 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:56:18,709 - message_queue - ERROR - 初始化消息队列时出错: name 'redis_prefix' is not defined
2025-03-10 16:56:18,709 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:56:24,945 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:56:24,945 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: content
2025-03-10 16:56:26,720 - mongodb_connector - INFO - 将UUID 11eeae0d-ab04-4821-90f8-ab5115015f4a 发送到Redis列表 timeline
INFO:     127.0.0.1:57809 - "POST /data HTTP/1.1" 200 OK
2025-03-10 16:57:26,747 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:57:31,117 - message_queue - ERROR - 初始化消息队列时出错: name 'redis_prefix' is not defined
2025-03-10 16:57:31,117 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:57:33,286 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:57:33,286 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: content
2025-03-10 16:57:34,340 - message_queue - WARNING - 消息队列未连接，无法发布消息
2025-03-10 16:57:34,341 - mongodb_connector - INFO - 将UUID 364e54ca-1c16-456a-8ffa-eed9661c9252 发送到消息队列 special_attention
INFO:     127.0.0.1:58085 - "POST /data HTTP/1.1" 200 OK
2025-03-10 16:58:34,366 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:58:35,563 - message_queue - ERROR - 初始化消息队列时出错: name 'redis_prefix' is not defined
2025-03-10 16:58:35,564 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:58:37,088 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:58:37,089 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: content
2025-03-10 16:58:38,626 - mongodb_connector - INFO - 将UUID 76ebe2e9-79a5-43c2-8d09-a04fd3776277 发送到Redis列表 timeline
INFO:     127.0.0.1:58325 - "POST /data HTTP/1.1" 200 OK
2025-03-10 16:59:38,650 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 16:59:40,765 - message_queue - ERROR - 初始化消息队列时出错: name 'redis_prefix' is not defined
2025-03-10 16:59:40,765 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 16:59:59,585 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 16:59:59,587 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: content
2025-03-10 17:00:07,172 - mongodb_connector - INFO - 将UUID f4299291-ec9a-426d-8369-8e3f409ecda8 发送到Redis列表 timeline
INFO:     127.0.0.1:58578 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:04:41,663 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:04:47,108 - message_queue - ERROR - 初始化消息队列时出错: name 'redis_prefix' is not defined
2025-03-10 17:04:47,108 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:04:50,720 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:04:50,720 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: content
2025-03-10 17:04:51,776 - message_queue - WARNING - 消息队列未连接，无法发布消息
2025-03-10 17:04:51,777 - mongodb_connector - INFO - 将UUID 18c404ca-04ec-40b2-80cb-bc0a6cd53893 发送到消息队列 special_attention
INFO:     127.0.0.1:59788 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:05:51,790 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:05:53,172 - message_queue - ERROR - 初始化消息队列时出错: name 'redis_prefix' is not defined
2025-03-10 17:05:53,173 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:05:56,470 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:05:56,470 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: content
2025-03-10 17:05:57,827 - mongodb_connector - INFO - 将UUID 3d45180f-257b-4c3a-92a8-95cbf41aa061 发送到Redis列表 timeline
INFO:     127.0.0.1:60034 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:06:49,553 - run - INFO - 接收到信号 15
2025-03-10 17:06:49,556 - run - INFO - 停止所有进程...
2025-03-10 17:06:49,556 - run - INFO - 终止 warehouse_api...
2025-03-10 17:06:49,556 - run - INFO - 终止 server_api...
INFO:     Shutting down
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [19226]
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [19227]
2025-03-10 17:06:50,559 - run - INFO - 停止所有进程...
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/resource_tracker.py:224: UserWarning: resource_tracker: There appear to be 10 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
2025-03-10 17:09:57,166 - run - INFO - 由server/api服务管理agent启动...
2025-03-10 17:09:57,166 - run - INFO - 启动 warehouse_api...
2025-03-10 17:09:57,168 - run - INFO - 启动 server_api...
2025-03-10 17:09:57,169 - run - INFO - 所有服务启动完成。按 Ctrl+C 停止。
2025-03-10 17:09:57,538 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:09:58,731 - message_broker - INFO - Connected to Redis server
2025-03-10 17:09:58,792 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:09:58,798 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:09:58,798 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:10:00,085 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:10:00,086 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:10:00,185 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:10:00,185 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: content
INFO:     Started server process [21196]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-03-10 17:10:02,226 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:10:02,227 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: content
INFO:     Started server process [21197]
INFO:     Waiting for application startup.
2025-03-10 17:10:02,267 - api - INFO - 自动启动TikTok-agent...
2025-03-10 17:10:02,267 - agent_engine - INFO - 已加载Agent配置: tiktok-agent
2025-03-10 17:10:02,268 - agent_engine - INFO - 开始运行agent: tiktok-agent
2025-03-10 17:10:02,272 - special_attention_task - INFO - 特别关注任务 special_attention_task 使用组件: data_fetcher, fact_checker, content_processor, video_generator
2025-03-10 17:10:02,272 - special_attention_task - INFO - 启动特别关注任务: special_attention_task
2025-03-10 17:10:02,272 - special_attention_task - INFO - 启动实时监听: special_attention
2025-03-10 17:10:03,460 - agent_engine - INFO - 任务已启动: tiktok-agent:special_attention_task (原始ID: special_attention_task)
2025-03-10 17:10:03,464 - timeline_task - INFO - 时间线任务 timeline_task 使用组件: data_fetcher, content_processor, summary_generator, video_generator
2025-03-10 17:10:03,464 - timeline_task - INFO - 启动时间线任务: timeline_task
2025-03-10 17:10:03,464 - timeline_task - INFO - 启动定时执行: */30 * * * *
2025-03-10 17:10:03,464 - agent_engine - INFO - 任务已启动: tiktok-agent:timeline_task (原始ID: timeline_task)
2025-03-10 17:10:03,464 - api - INFO - TikTok-agent (tiktok-agent) 启动成功
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
2025-03-10 17:10:07,739 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:10:09,291 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:10:09,292 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:10:10,520 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:10:10,521 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: content
2025-03-10 17:10:11,982 - mongodb_connector - INFO - 将UUID afa71960-5201-47c0-a001-7052ef95c20d 发送到Redis列表 timeline
INFO:     127.0.0.1:60812 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:11:11,998 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:11:14,788 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:11:14,788 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:11:16,086 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:11:16,086 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: content
2025-03-10 17:11:17,911 - mongodb_connector - INFO - 将UUID c043e6af-b315-4159-802e-5f260d632866 发送到消息队列 special_attention
INFO:     127.0.0.1:61024 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:12:17,930 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:12:18,744 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:12:18,744 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:12:21,703 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:12:21,704 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: content
2025-03-10 17:12:23,717 - mongodb_connector - INFO - 将UUID 1f3669a3-ddab-400e-bfea-15b8588fcdf1 发送到消息队列 special_attention
INFO:     127.0.0.1:61240 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:12:26,185 - run - INFO - 接收到信号 15
2025-03-10 17:12:26,187 - run - INFO - 停止所有进程...
2025-03-10 17:12:26,187 - run - INFO - 终止 warehouse_api...
2025-03-10 17:12:26,187 - run - INFO - 终止 server_api...
INFO:     Shutting down
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [21197]
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [21196]
2025-03-10 17:12:27,191 - run - INFO - 停止所有进程...
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/resource_tracker.py:224: UserWarning: resource_tracker: There appear to be 10 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
2025-03-10 17:23:07,238 - run - INFO - 由server/api服务管理agent启动...
2025-03-10 17:23:07,238 - run - INFO - 启动 warehouse_api...
2025-03-10 17:23:07,239 - run - INFO - 启动 server_api...
2025-03-10 17:23:07,241 - run - INFO - 所有服务启动完成。按 Ctrl+C 停止。
2025-03-10 17:23:07,617 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:23:07,617 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:23:07,617 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:23:07,617 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:23:07,617 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:23:07,617 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:23:07,617 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:23:08,784 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:23:08,784 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:23:08,862 - message_broker - INFO - Connected to Redis server
2025-03-10 17:23:08,899 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:23:08,899 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:23:08,899 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:23:08,899 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:23:08,899 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:23:08,899 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:23:08,899 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:23:10,160 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:23:10,160 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:23:10,185 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:23:10,186 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
INFO:     Started server process [23141]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-03-10 17:23:11,478 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:23:11,478 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
INFO:     Started server process [23142]
INFO:     Waiting for application startup.
2025-03-10 17:23:11,500 - api - INFO - 自动启动TikTok-agent...
2025-03-10 17:23:11,501 - agent_engine - INFO - 已加载Agent配置: tiktok-agent
2025-03-10 17:23:11,501 - agent_engine - INFO - 开始运行agent: tiktok-agent
2025-03-10 17:23:11,504 - special_attention_task - INFO - 特别关注任务 special_attention_task 使用组件: data_fetcher, fact_checker, content_processor, video_generator
2025-03-10 17:23:11,504 - special_attention_task - INFO - 启动特别关注任务: special_attention_task
2025-03-10 17:23:11,504 - special_attention_task - INFO - 启动实时监听: special_attention
2025-03-10 17:23:12,441 - agent_engine - INFO - 任务已启动: tiktok-agent:special_attention_task (原始ID: special_attention_task)
2025-03-10 17:23:12,443 - timeline_task - INFO - 时间线任务 timeline_task 使用组件: data_fetcher, content_processor, summary_generator, video_generator
2025-03-10 17:23:12,443 - timeline_task - INFO - 启动时间线任务: timeline_task
2025-03-10 17:23:12,443 - timeline_task - INFO - 启动定时执行: */30 * * * *
2025-03-10 17:23:12,443 - agent_engine - INFO - 任务已启动: tiktok-agent:timeline_task (原始ID: timeline_task)
2025-03-10 17:23:12,443 - api - INFO - TikTok-agent (tiktok-agent) 启动成功
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
2025-03-10 17:23:13,031 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:23:13,034 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:23:13,034 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:23:13,034 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:23:13,034 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:23:13,034 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:23:13,034 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:23:15,080 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:23:15,080 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:23:16,339 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:23:16,339 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
2025-03-10 17:23:17,634 - mongodb_connector - INFO - 将UUID 0b88cccb-ad09-4bc0-8d40-f0cc9b338e64 发送到Redis列表 timeline
INFO:     127.0.0.1:63720 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:24:17,672 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:24:17,673 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:24:17,673 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:24:17,673 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:24:17,673 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:24:17,673 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:24:17,673 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:24:19,644 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:24:19,648 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:24:21,170 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:24:21,170 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
2025-03-10 17:25:11,840 - mongodb_connector - INFO - 将UUID 29c9ee63-78bd-4338-af7b-b00dbd63de5f 发送到消息队列 special_attention
INFO:     127.0.0.1:63926 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:26:11,900 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:26:11,901 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:26:11,901 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:26:11,901 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:26:11,901 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:26:11,901 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:26:11,902 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:26:25,293 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:26:25,294 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:27:42,759 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:27:42,761 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
2025-03-10 17:27:44,156 - mongodb_connector - INFO - 将UUID 7090b43a-4e83-4622-8177-d2d2e79c5874 发送到消息队列 special_attention
INFO:     127.0.0.1:64257 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:28:44,205 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:28:44,206 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:28:44,207 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:28:44,207 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:28:44,207 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:28:44,207 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:28:44,207 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:28:45,635 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:28:45,636 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:28:46,926 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:28:46,927 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
2025-03-10 17:28:51,877 - mongodb_connector - INFO - 将UUID 088ad81e-6129-4460-904c-aeba1959b316 发送到消息队列 special_attention
INFO:     127.0.0.1:64717 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:29:00,006 - run - INFO - 接收到信号 15
2025-03-10 17:29:00,007 - run - INFO - 停止所有进程...
2025-03-10 17:29:00,007 - run - INFO - 终止 warehouse_api...
2025-03-10 17:29:00,007 - run - INFO - 终止 server_api...
INFO:     Shutting down
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [23141]
INFO:     Application shutdown complete.
INFO:     Finished server process [23142]
2025-03-10 17:29:01,012 - run - INFO - 停止所有进程...
/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/multiprocessing/resource_tracker.py:224: UserWarning: resource_tracker: There appear to be 10 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
2025-03-10 17:38:16,462 - run - INFO - 由server/api服务管理agent启动...
2025-03-10 17:38:16,462 - run - INFO - 启动 warehouse_api...
2025-03-10 17:38:16,464 - run - INFO - 启动 server_api...
2025-03-10 17:38:16,466 - run - INFO - 所有服务启动完成。按 Ctrl+C 停止。
2025-03-10 17:38:16,857 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:38:16,857 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:38:16,857 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:38:16,857 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:38:16,857 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:38:16,857 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:38:16,857 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:38:18,185 - message_broker - INFO - Connected to Redis server
2025-03-10 17:38:18,218 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:38:18,218 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:38:18,218 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:38:18,218 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:38:18,218 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:38:18,218 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:38:18,218 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:38:19,554 - message_queue - INFO - 队列前缀设置为: [无前缀]
2025-03-10 17:38:19,554 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:38:19,554 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:38:20,889 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:38:20,889 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
INFO:     Started server process [24440]
INFO:     Waiting for application startup.
2025-03-10 17:38:20,913 - api - INFO - 自动启动TikTok-agent...
2025-03-10 17:38:20,914 - agent_engine - INFO - 已加载Agent配置: tiktok-agent
2025-03-10 17:38:20,914 - agent_engine - INFO - 开始运行agent: tiktok-agent
2025-03-10 17:38:20,916 - special_attention_task - INFO - 特别关注任务 special_attention_task 使用组件: data_fetcher, fact_checker, content_processor, video_generator
2025-03-10 17:38:20,917 - special_attention_task - INFO - 启动特别关注任务: special_attention_task
2025-03-10 17:38:20,917 - special_attention_task - INFO - 启动实时监听: special_attention
2025-03-10 17:38:21,219 - message_queue - INFO - 队列前缀设置为: [无前缀]
2025-03-10 17:38:21,219 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:38:21,219 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:38:22,617 - agent_engine - INFO - 任务已启动: tiktok-agent:special_attention_task (原始ID: special_attention_task)
2025-03-10 17:38:22,620 - timeline_task - INFO - 时间线任务 timeline_task 使用组件: data_fetcher, content_processor, summary_generator, video_generator
2025-03-10 17:38:22,620 - timeline_task - INFO - 启动时间线任务: timeline_task
2025-03-10 17:38:22,620 - timeline_task - INFO - 启动定时执行: */30 * * * *
2025-03-10 17:38:22,621 - agent_engine - INFO - 任务已启动: tiktok-agent:timeline_task (原始ID: timeline_task)
2025-03-10 17:38:22,621 - api - INFO - TikTok-agent (tiktok-agent) 启动成功
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
2025-03-10 17:38:22,658 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:38:22,658 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
INFO:     Started server process [24439]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-03-10 17:38:24,278 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:38:24,278 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:38:24,278 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:38:24,278 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:38:24,278 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:38:24,278 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:38:24,278 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:38:25,541 - message_queue - INFO - 队列前缀设置为: [无前缀]
2025-03-10 17:38:25,541 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:38:25,541 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:38:26,712 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:38:26,712 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
2025-03-10 17:38:28,063 - mongodb_connector - INFO - 将UUID bc228546-d3e1-4269-9621-49110c8f350b 发送到Redis列表 timeline
INFO:     127.0.0.1:50416 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:39:18,833 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:39:18,834 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:39:18,834 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:39:18,834 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:39:18,834 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:39:18,834 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:39:18,834 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:39:26,958 - message_queue - INFO - 队列前缀设置为: [无前缀]
2025-03-10 17:39:26,959 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:39:26,959 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:39:28,237 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:39:28,237 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
2025-03-10 17:39:29,693 - mongodb_connector - INFO - 将UUID 532139d5-12f3-4371-af71-9b2e0555971d 发送到Redis列表 timeline
INFO:     127.0.0.1:50766 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:39:39,779 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:39:39,780 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:39:39,780 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:39:39,780 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:39:39,780 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:39:39,780 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:39:39,780 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:39:41,115 - message_queue - INFO - 队列前缀设置为: [无前缀]
2025-03-10 17:39:41,115 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:39:41,115 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:39:43,333 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:39:43,333 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
2025-03-10 17:39:44,887 - mongodb_connector - INFO - 将UUID 2606f08e-9213-407a-aea7-c8239b5f364b 发送到消息队列 special_attention
INFO:     127.0.0.1:50847 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:39:54,907 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:39:54,908 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:39:54,908 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:39:54,908 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:39:54,908 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:39:54,908 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:39:54,908 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:39:56,256 - message_queue - INFO - 队列前缀设置为: [无前缀]
2025-03-10 17:39:56,256 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:39:56,256 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:40:01,659 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:40:01,659 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
2025-03-10 17:40:11,868 - mongodb_connector - INFO - 将UUID 69a46a7a-fd51-4b54-92ad-ec77d8a5af5e 发送到Redis列表 timeline
INFO:     127.0.0.1:50895 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:40:21,900 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:40:21,900 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:40:21,900 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:40:21,900 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:40:21,900 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:40:21,900 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:40:21,900 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:40:23,254 - message_queue - INFO - 队列前缀设置为: [无前缀]
2025-03-10 17:40:23,254 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:40:23,254 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:40:24,556 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:40:24,558 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
2025-03-10 17:40:25,892 - mongodb_connector - INFO - 将UUID 4443e0b8-2223-4696-b1b6-984d6afcaba0 发送到Redis列表 timeline
INFO:     127.0.0.1:50967 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:40:35,907 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:40:35,907 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:40:35,907 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:40:35,907 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:40:35,907 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:40:35,907 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:40:35,907 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:40:37,907 - message_queue - INFO - 队列前缀设置为: [无前缀]
2025-03-10 17:40:37,908 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:40:37,908 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:40:40,134 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:40:40,136 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
2025-03-10 17:40:42,044 - mongodb_connector - INFO - 将UUID 855f7569-8959-4e7c-bfe1-d10110790577 发送到Redis列表 timeline
INFO:     127.0.0.1:51032 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:40:52,070 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:40:52,070 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:40:52,070 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:40:52,070 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:40:52,070 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:40:52,070 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:40:52,070 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:40:53,411 - message_queue - INFO - 队列前缀设置为: [无前缀]
2025-03-10 17:40:53,411 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:40:53,411 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:40:54,949 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:40:54,950 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
2025-03-10 17:40:56,430 - mongodb_connector - INFO - 将UUID 37b0e83c-1e0f-4e0d-8ec1-1956ee6dbb7f 发送到消息队列 special_attention
INFO:     127.0.0.1:51086 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:41:06,447 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:41:06,448 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:41:06,448 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:41:06,448 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:41:06,448 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:41:06,448 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:41:06,448 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:41:15,814 - message_queue - INFO - 队列前缀设置为: [无前缀]
2025-03-10 17:41:15,814 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:41:15,815 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:41:47,406 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:41:47,407 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
2025-03-10 17:41:51,945 - mongodb_connector - INFO - 将UUID b6857b46-469d-4cf7-b877-3c986254d53f 发送到Redis列表 timeline
INFO:     127.0.0.1:51139 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:42:01,974 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:42:01,974 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:42:01,974 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:42:01,974 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:42:01,974 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:42:01,974 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:42:01,974 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:42:03,277 - message_queue - INFO - 队列前缀设置为: [无前缀]
2025-03-10 17:42:03,277 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:42:03,277 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:42:04,541 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:42:04,541 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
2025-03-10 17:42:05,938 - mongodb_connector - INFO - 将UUID e5d822d3-5ec3-49fd-9fdc-77068dd8edfb 发送到Redis列表 timeline
INFO:     127.0.0.1:51323 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:42:15,956 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:42:15,956 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:42:15,956 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:42:15,956 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:42:15,956 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:42:15,956 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:42:15,956 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:42:17,195 - message_queue - INFO - 队列前缀设置为: [无前缀]
2025-03-10 17:42:17,195 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:42:17,195 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:42:24,757 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:42:24,758 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
2025-03-10 17:42:26,393 - mongodb_connector - INFO - 将UUID ca2bfed4-84dc-4575-9ca1-44e72674d77b 发送到消息队列 special_attention
INFO:     127.0.0.1:51365 - "POST /data HTTP/1.1" 200 OK
2025-03-10 17:42:36,415 - mongodb_connector - INFO - MongoDB 连接器初始化环境变量详情:
2025-03-10 17:42:36,415 - mongodb_connector - INFO - MONGODB_CONNECTION_STRING: mongodb://...
2025-03-10 17:42:36,415 - mongodb_connector - INFO - MONGODB_DATABASE: degenPy
2025-03-10 17:42:36,415 - mongodb_connector - INFO - MONGODB_COLLECTION: twitterTweets
2025-03-10 17:42:36,415 - mongodb_connector - INFO - MongoDB 连接器实际使用的配置:
2025-03-10 17:42:36,415 - mongodb_connector - INFO - Database: degenPy, Collection: twitterTweets
2025-03-10 17:42:36,415 - message_queue - INFO - 尝试连接到Redis: 172.104.160.100:6379
2025-03-10 17:42:37,768 - message_queue - INFO - 队列前缀设置为: [无前缀]
2025-03-10 17:42:37,769 - message_queue - INFO - 成功连接到Redis服务器，消息队列功能已启用
2025-03-10 17:42:37,769 - mongodb_connector - INFO - 消息队列初始化成功
2025-03-10 17:42:38,945 - mongodb_connector - INFO - 成功连接到Redis服务器
2025-03-10 17:42:38,945 - mongodb_connector - INFO - MongoDB 连接器初始化: degenPy, Collection: twitterTweets
2025-03-10 17:42:40,179 - mongodb_connector - INFO - 将UUID 0e8ea1a9-de65-42cd-ab8d-059289b91002 发送到Redis列表 timeline
INFO:     127.0.0.1:51443 - "POST /data HTTP/1.1" 200 OK
